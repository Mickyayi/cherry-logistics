# ğŸ’ è½¦å˜å­å›¢è´­ç‰©æµç³»ç»Ÿ

## ğŸ“Œ é¡¹ç›®æ¦‚è¿°

ä¸€ä¸ªå®Œæ•´çš„ç‰©æµç®¡ç†ç³»ç»Ÿï¼Œç”¨äºæ‰“é€š**ç”¨æˆ·**ã€**å®¢æœ**å’Œ**ç‰©æµå…¬å¸**ä¹‹é—´çš„æ²Ÿé€šã€‚åŸºäº Cloudflare å…¨å®¶æ¡¶å¼€å‘ï¼Œå®Œå…¨å…è´¹ä¸”é«˜æ€§èƒ½ã€‚

### æ ¸å¿ƒä»·å€¼
- âœ… ç”¨æˆ·å¯ä»¥åœ¨çº¿æäº¤ç‰©æµä¿¡æ¯å¹¶æŸ¥è¯¢è®¢å•çŠ¶æ€
- âœ… å®¢æœå¯ä»¥å®¡æ ¸å’Œä¿®æ”¹è®¢å•ä¿¡æ¯
- âœ… ç‰©æµå…¬å¸å¯ä»¥å¿«é€Ÿå¤„ç†è®¢å•å¹¶å›å¡«å¿«é€’å•å·
- âœ… æ‰€æœ‰æ•°æ®å®æ—¶åŒæ­¥ï¼Œä¸‰æ–¹ä¿¡æ¯é€æ˜

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·è®¿é—®                          â”‚
â”‚         https://your-project.pages.dev               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cloudflare Pages (å‰ç«¯)                     â”‚
â”‚    React + TypeScript + Tailwind CSS                â”‚
â”‚                                                      â”‚
â”‚  â€¢ ç”¨æˆ·ç«¯ï¼šæäº¤è®¢å•ã€æŸ¥è¯¢çŠ¶æ€                        â”‚
â”‚  â€¢ å®¢æœç«¯ï¼šå®¡æ ¸è®¢å•ã€ç¼–è¾‘ä¿¡æ¯                        â”‚
â”‚  â€¢ ç‰©æµç«¯ï¼šå¤åˆ¶ä¿¡æ¯ã€å¡«å†™å•å·                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ API è¯·æ±‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Cloudflare Workers (åç«¯ API)                  â”‚
â”‚         JavaScript (Node.js)                        â”‚
â”‚                                                      â”‚
â”‚  â€¢ è®¢å• CRUD æ¥å£                                    â”‚
â”‚  â€¢ çŠ¶æ€ç®¡ç†                                          â”‚
â”‚  â€¢ é‰´æƒéªŒè¯                                          â”‚
â”‚  â€¢ å¿«é€’100 API é›†æˆ (ç‰©æµè¿½è¸ª)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ SQL æŸ¥è¯¢
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Cloudflare D1 (æ•°æ®åº“)                       â”‚
â”‚              SQLite                                  â”‚
â”‚                                                      â”‚
â”‚  orders è¡¨ï¼šè®¢å•å·ã€æ”¶è´§äººã€å•†å“ã€çŠ¶æ€ã€å¿«é€’å•å·      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
cherry/
â”œâ”€â”€ frontend/              # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/        # 7ä¸ªé¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx                  # ç”¨æˆ·é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ SubmitOrder.tsx           # æäº¤è®¢å•
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckOrder.tsx            # æŸ¥è¯¢è®¢å•
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminLogin.tsx            # å®¢æœç™»å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminPanel.tsx            # å®¢æœç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ LogisticsLogin.tsx        # ç‰©æµç™»å½•
â”‚   â”‚   â”‚   â””â”€â”€ LogisticsPanel.tsx        # ç‰©æµç®¡ç†
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â””â”€â”€ UI.tsx                    # é€šç”¨ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â””â”€â”€ auth.ts                   # é‰´æƒå·¥å…·
â”‚   â”‚   â”œâ”€â”€ api.ts                        # API å°è£…
â”‚   â”‚   â”œâ”€â”€ config.ts                     # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ App.tsx                       # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ main.tsx                      # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/               # Cloudflare Workers åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ index.js                      # Worker å…¥å£ï¼ˆå…¨éƒ¨APIï¼‰
â”‚   â”œâ”€â”€ schema.sql                        # æ•°æ®åº“è¡¨ç»“æ„
â”‚   â”œâ”€â”€ wrangler.toml                     # Cloudflare é…ç½®
â”‚   â””â”€â”€ package.json                      # Node.js ä¾èµ–
â”‚
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰
â”œâ”€â”€ CHECKLIST.md           # åŠŸèƒ½æ¸…å•
â””â”€â”€ .gitignore
```

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—

### 1ï¸âƒ£ ç”¨æˆ·ç«¯ï¼ˆMobile Webï¼‰

**é¦–é¡µ** (`/`)
- ä¸¤ä¸ªå¤§æŒ‰é’®å…¥å£
- æ¸…çˆ½çš„ç§»åŠ¨ç«¯è®¾è®¡

**æäº¤ç‰©æµä¿¡æ¯** (`/submit`)
- 5é¡¹å¿…å¡«ä¿¡æ¯ï¼š
  1. å•†åŸè®¢å•å·
  2. æ”¶è´§äººå§“å
  3. æ”¶è´§äººç”µè¯
  4. æ”¶è´§åœ°å€ï¼ˆå«é‚®ç¼–ï¼‰
  5. æ¨±æ¡ƒå“ç§å’Œæ•°é‡ï¼ˆæ”¯æŒå¤šä¸ªå•†å“ï¼‰
- å“ç§é€‰æ‹©ï¼šè€ƒæ‹‰è½¦å˜å­ / æ¨±èŠ±è½¦å˜å­
- å¤§å°é€‰æ‹©ï¼š30-32mm / 32-34mm / 34-36mm
- æ”¯æŒåŠ¨æ€æ·»åŠ /åˆ é™¤å•†å“

**æŸ¥çœ‹ç‰©æµçŠ¶æ€** (`/check`)
- é€šè¿‡å§“å+ç”µè¯æŸ¥è¯¢
- æ˜¾ç¤ºè®¢å•çŠ¶æ€å’Œå¿«é€’å•å·
- **å®æ—¶ç‰©æµè¿½è¸ª**ï¼šé›†æˆå¿«é€’100 APIï¼Œæ˜¾ç¤ºè¯¦ç»†ç‰©æµè½¨è¿¹

### 2ï¸âƒ£ å®¢æœç«¯ï¼ˆDesktop Webï¼‰

**ç™»å½•** (`/admin/login`)
- ç®€æ˜“å¯†ç éªŒè¯ï¼ˆé»˜è®¤ï¼š145284ï¼‰

**ç®¡ç†é¢æ¿** (`/admin`)
- è®¢å•åˆ—è¡¨å±•ç¤º
- çŠ¶æ€ç­›é€‰ï¼ˆå…¨éƒ¨/å¾…å®¡æ ¸/å·²å®¡æ ¸/å·²å‘è´§ï¼‰
- ç¼–è¾‘è®¢å•ä¿¡æ¯
- å®¡æ ¸é€šè¿‡æ“ä½œ

### 3ï¸âƒ£ ç‰©æµç«¯ï¼ˆMobile Webï¼‰

**ç™»å½•** (`/logistics/login`)
- ç®€æ˜“å¯†ç éªŒè¯ï¼ˆé»˜è®¤ï¼š145284ï¼‰

**ç®¡ç†é¢æ¿** (`/logistics`)
- **æ–°è®¢å•æ ‡ç­¾**ï¼š
  - æ˜¾ç¤ºå·²å®¡æ ¸è®¢å•
  - ä¸€é”®å¤åˆ¶ç‰©æµä¿¡æ¯åˆ°å‰ªè´´æ¿
  - æ ‡è®°ä¸ºå·²å‘è´§
- **æ­£åœ¨é…é€æ ‡ç­¾**ï¼š
  - æ˜¾ç¤ºå·²å‘è´§è®¢å•
  - å¡«å†™å¿«é€’å•å·

---

## ğŸ”„ ä¸šåŠ¡æµç¨‹

```
ç”¨æˆ·æäº¤è®¢å•
    â†“
è®¢å•çŠ¶æ€ï¼špendingï¼ˆå¾…å®¡æ ¸ï¼‰
    â†“
å®¢æœå®¡æ ¸å¹¶ä¿®æ”¹ä¿¡æ¯
    â†“
å®¢æœç‚¹å‡»"å®¡æ ¸é€šè¿‡"
    â†“
è®¢å•çŠ¶æ€ï¼šreviewedï¼ˆå·²å®¡æ ¸ï¼‰
    â†“
ç‰©æµå¤åˆ¶ä¿¡æ¯å¹¶æ ‡è®°å‘è´§
    â†“
è®¢å•çŠ¶æ€ï¼šshippedï¼ˆå·²å‘è´§ï¼‰
    â†“
ç‰©æµå¡«å†™å¿«é€’å•å·
    â†“
ç”¨æˆ·æŸ¥è¯¢çœ‹åˆ°å¿«é€’å•å· & å®æ—¶ç‰©æµè½¨è¿¹
    â†“
[è‡ªåŠ¨/æ‰‹åŠ¨] ç¡®è®¤ç­¾æ”¶
    â†“
è®¢å•çŠ¶æ€ï¼šcompletedï¼ˆå·²å®Œæˆï¼‰
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Cloudflare è´¦å·
- GitHub è´¦å·
- Node.js >= 18
- Wrangler CLI

### éƒ¨ç½²æ­¥éª¤ï¼ˆ5åˆ†é’Ÿï¼‰

è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ **[DEPLOYMENT.md](./DEPLOYMENT.md)**

ç®€è¦æµç¨‹ï¼š
1. æ¨é€ä»£ç åˆ° GitHub
2. åˆ›å»º D1 æ•°æ®åº“å¹¶åˆå§‹åŒ–è¡¨ç»“æ„
3. éƒ¨ç½² Worker åç«¯
4. éƒ¨ç½² Pages å‰ç«¯ï¼ˆè¿æ¥ GitHub è‡ªåŠ¨éƒ¨ç½²ï¼‰
5. é…ç½®ç¯å¢ƒå˜é‡
6. æµ‹è¯•ç³»ç»Ÿ

---

## ğŸ¨ æŠ€æœ¯äº®ç‚¹

### å‰ç«¯
- âœ… React 19 + TypeScript ç±»å‹å®‰å…¨
- âœ… Tailwind CSS å¿«é€Ÿæ ·å¼å¼€å‘
- âœ… React Router å‰ç«¯è·¯ç”±
- âœ… å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯ + æ¡Œé¢ç«¯ï¼‰
- âœ… é€šç”¨ç»„ä»¶å°è£…ï¼ˆButton, Input, Card, Selectï¼‰
- âœ… æœ¬åœ°å­˜å‚¨é‰´æƒï¼ˆç®€å•é«˜æ•ˆï¼‰

### åç«¯
- âœ… Cloudflare Workers (JavaScript) è¾¹ç¼˜è®¡ç®—
- âœ… D1 æ•°æ®åº“ï¼ˆå…è´¹ 5GBï¼‰
- âœ… RESTful API è®¾è®¡
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
- âœ… CORS è·¨åŸŸé…ç½®
- âœ… **å¿«é€’100 API é›†æˆ**ï¼šæ”¯æŒé¡ºä¸°ç­‰å¿«é€’æŸ¥è¯¢
- âœ… **Cron Triggers**ï¼šå®šæ—¶ä»»åŠ¡è‡ªåŠ¨æ›´æ–°ç­¾æ”¶çŠ¶æ€

### éƒ¨ç½²
- âœ… å…¨äº‘ç«¯éƒ¨ç½²ï¼ˆæ— éœ€æœåŠ¡å™¨ï¼‰
- âœ… GitHub æ¨é€è‡ªåŠ¨éƒ¨ç½²
- âœ… å…¨çƒ CDN åŠ é€Ÿ
- âœ… å…è´¹é¢åº¦å……è¶³ï¼ˆä¸ªäºº/å°å›¢é˜Ÿå®Œå…¨å¤Ÿç”¨ï¼‰

---

## ğŸ’° æˆæœ¬åˆ†æï¼ˆCloudflare å…è´¹è®¡åˆ’ï¼‰

| æœåŠ¡ | å…è´¹é¢åº¦ | æœ¬é¡¹ç›®é¢„ä¼°ç”¨é‡ | æˆæœ¬ |
|------|---------|---------------|------|
| Pages | æ— é™è¯·æ±‚ | âœ… å……è¶³ | $0 |
| Workers | 100,000 è¯·æ±‚/å¤© | âœ… å……è¶³ | $0 |
| D1 æ•°æ®åº“ | 5GB å­˜å‚¨ + 500ä¸‡è¯»/100ä¸‡å†™ | âœ… å……è¶³ | $0 |

**æ€»æˆæœ¬ï¼š$0/æœˆ** ğŸ‰

---

## ğŸ” å®‰å…¨é…ç½®

- ç®¡ç†ç«¯ä½¿ç”¨ç®€æ˜“å¯†ç éªŒè¯ï¼ˆ145284ï¼‰
- å¯åœ¨ `backend/src/index.js` ä¸­ä¿®æ”¹ `ADMIN_PASSCODE`
- API è¯·æ±‚æ”¯æŒ CORS é™åˆ¶
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

**orders è¡¨**

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | INTEGER | ä¸»é”®ï¼Œè‡ªå¢ |
| mall_order_no | TEXT | å•†åŸè®¢å•å· |
| recipient_name | TEXT | æ”¶è´§äººå§“å |
| recipient_phone | TEXT | æ”¶è´§äººç”µè¯ |
| recipient_address | TEXT | æ”¶è´§åœ°å€ |
| items | TEXT | JSON æ ¼å¼çš„å•†å“åˆ—è¡¨ |
| status | TEXT | è®¢å•çŠ¶æ€ï¼ˆpending/reviewed/shipped/completedï¼‰ |
| tracking_number | TEXT | å¿«é€’å•å· |
| created_at | INTEGER | åˆ›å»ºæ—¶é—´æˆ³ |

**ç´¢å¼•ä¼˜åŒ–**
- `idx_recipient_info`: (recipient_name, recipient_phone)
- `idx_status`: (status)
- `idx_created_at`: (created_at DESC)

---

## ğŸ“ API æ¥å£

### å…¬å…±æ¥å£
- `POST /api/orders` - æäº¤è®¢å•
- `GET /api/orders/search?name=xxx&phone=xxx` - æŸ¥è¯¢è®¢å•
- `GET /api/tracking/:trackingNumber` - æŸ¥è¯¢ç‰©æµè½¨è¿¹

### ç®¡ç†æ¥å£
- `POST /api/auth` - å¯†ç éªŒè¯
- `GET /api/orders?status=xxx&page=1` - è·å–è®¢å•åˆ—è¡¨
- `PUT /api/orders/:id` - ä¿®æ”¹è®¢å•
- `PUT /api/orders/:id/status?status=xxx` - æ›´æ–°çŠ¶æ€
- `PUT /api/orders/:id/tracking` - æ›´æ–°å¿«é€’å•å·
- `POST /api/cron/check-delivery-status` - æ‰‹åŠ¨è§¦å‘ç‰©æµçŠ¶æ€æ£€æŸ¥

---

## ğŸ”§ æœ¬åœ°å¼€å‘

### å‰ç«¯
```bash
cd frontend
npm install
npm run dev
# è®¿é—® http://localhost:5173
```

### åç«¯
```bash
cd backend
npm install
wrangler dev
# Worker è¿è¡Œåœ¨ http://localhost:8787
```

---

## ğŸ“¦ æ›´æ–°éƒ¨ç½²

### å‰ç«¯
```bash
git add .
git commit -m "æ›´æ–°è¯´æ˜"
git push
# Cloudflare Pages è‡ªåŠ¨é‡æ–°éƒ¨ç½²
```

### åç«¯
```bash
cd backend
wrangler deploy
```

---

## â“ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•ä¿®æ”¹ç®¡ç†å¯†ç ï¼Ÿ**
A: ç¼–è¾‘ `backend/src/index.js`ï¼Œä¿®æ”¹ `ADMIN_PASSCODE`ï¼Œç„¶å `wrangler deploy`ã€‚

**Q: å¦‚ä½•æŸ¥çœ‹æ•°æ®åº“æ•°æ®ï¼Ÿ**
A: `wrangler d1 execute cherry-logistics-db --command="SELECT * FROM orders;"`

**Q: å‰ç«¯ API è¯·æ±‚å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ Cloudflare Pages ç¯å¢ƒå˜é‡ `VITE_API_URL` æ˜¯å¦æ­£ç¡®è®¾ç½®ã€‚

**Q: è®¢å•ç¼–å·æ ¼å¼ï¼Ÿ**
A: æ•°æ®åº“ ID ä» 1 å¼€å§‹ï¼Œå‰ç«¯å±•ç¤ºæ ¼å¼åŒ–ä¸º 001, 002, 003...

---

## ğŸ“ æŠ€æœ¯æ–‡æ¡£

- [Cloudflare Workers æ–‡æ¡£](https://developers.cloudflare.com/workers/)
- [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)
- [Cloudflare D1 æ–‡æ¡£](https://developers.cloudflare.com/d1/)
- [React æ–‡æ¡£](https://react.dev/)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ã€‚

---

## ğŸ‰ é¡¹ç›®å®Œæˆåº¦

- âœ… å‰ç«¯å¼€å‘ï¼š100%
- âœ… åç«¯å¼€å‘ï¼š100%
- âœ… æ•°æ®åº“è®¾è®¡ï¼š100%
- âœ… éƒ¨ç½²æ–‡æ¡£ï¼š100%
- âœ… Git ç‰ˆæœ¬æ§åˆ¶ï¼š100%

**ğŸš€ éšæ—¶å¯ä»¥éƒ¨ç½²åˆ° Cloudflareï¼**

---

**å¼€å‘è€…æç¤º**ï¼šä»£ç å·²å‡†å¤‡å°±ç»ªï¼Œè¯·æŒ‰ç…§ [DEPLOYMENT.md](./DEPLOYMENT.md) è¿›è¡Œéƒ¨ç½²ã€‚

